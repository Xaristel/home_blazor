@page "/incomesadd"
@using home_blazor.Data.Model
@using home_blazor.Data
@using home_blazor.Data.Controllers
@inject IncomesService IncomesService

<h3>Add new income</h3>
<table style="width: 500px;">
    <tbody>
        <tr>
            <td><h4>Enter name:</h4></td>
            <td>
                <h4><input @bind-value="@inputAddName" /></h4>
            </td>
        </tr>
        <tr>
            <td><h4>Enter value:</h4></td>
            <td>
                <h4><input @bind-value="@inputAddValue" /></h4>
            </td>
        </tr>
        <tr>
            <td><h4>Enter date:</h4></td>
            <td>
                <h4> <input @bind-value="@inputAddDate" /></h4>
            </td>
        </tr>
        <tr>
            <td><h4>Enter userId:</h4></td>
            <td>
                <h4><input @bind-value="@inputAddUserId" /></h4>
            </td>
        </tr>
        <tr style="text-align: center;">
            <td colspan="2">
                <h4><button @onclick="AddItem" style="width: 300px;">Add</button></h4>
            </td>
        </tr>
    </tbody>
</table>

@code {
    string inputAddName;
    string inputAddValue;
    string inputAddDate;
    string inputAddUserId;

    private void AddItem()
    {
        Income newIncome = new Income()
        {
            IncomeName = this.inputAddName,
            IncomeDate = this.inputAddDate,
            IncomeValue = Convert.ToInt32(this.inputAddValue),
            UserId = Convert.ToInt32(this.inputAddUserId)
        };

        IncomesService.AddNewItem(newIncome);
    }
}